<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/header.css"> <!--Link css-->
    <link rel="stylesheet" href="css/main.css"> <!--Link css-->
    <link rel="stylesheet" href="css/footer.css"> <!--Link css-->
    <link rel="icon" href="favicon.ico"> <!-- Favicon -->   
    <title>Arquitectura modular y prefabricada | Neomodulus</title> <!--titulo pagina-->
    <meta name="keywords" content="palabras, clave, SEO">
    </head>
<body>
<header>
    <nav>
        <div class="logo">
            <img src="img/logo/neomodul.png" alt="MD logo" height="50">
        </div>
        <ul class="menu">
            <li><a href="index.html">Inicio</a></li>
            <li>
                <a href="#contact">Modelos</a>
                <ul class="submenu">
                    <li><a href="#">Modulos y estructuras </a></li>
                    <li><a href="#">Casas</a></li>
                </ul>
            </li>
            <li><a href="about.html">Sobre nosotros</a></li>
            <li>
                <a href="#contacte">Contacto</a>
                <ul class="submenu">
                    <li><a href="#">Email</a></li>
                    <li><a href="#">WhatsApp</a></li>
                </ul>
            </li>
        </ul>
        <a href="formulario.html" class="btn-telefono">Pedir cita telefónica</a>
    </nav>
</header>
      <main class="gallery" id="gallery" aria-label="Galería horizontal de 3 imágenes">
    <section class="slide" aria-roledescription="slide">
      <img src="img/casav2.png" alt="Casa modular de dos pisos frente al lago" />
      <!-- <div class="caption">Casa modular frente al lago</div> -->
    </section>
    <section class="slide" aria-roledescription="slide">
      <img src="img/casamonte.png" alt="Casa compacta sobre césped con lago y bosque" />
      <!-- <div class="caption">Modelo compacto en pradera</div> -->
    </section>
    <section class="slide" aria-roledescription="slide">
      <img src="img/casaplayuka.png" alt="Casa modular moderna con paneles solares junto al mar" />
      <!-- <div class="caption">Modelo costa con solar</div> -->
    </section>
  </main>

  <!-- Indicadores -->
  <nav class="dots" aria-label="Paginación de la galería">
    <button class="dot" data-index="0" aria-label="Ir a imagen 1" aria-current="true"></button>
    <button class="dot" data-index="1" aria-label="Ir a imagen 2"></button>
    <button class="dot" data-index="2" aria-label="Ir a imagen 3"></button>
  </nav>
  <div class="wrapper">
    <div class="header">
      <h2>Descubre nuestros modulos</h2>
    </div>

    <section class="gallery">
      <div class="scroller" aria-label="Galería de imágenes con desplazamiento horizontal">
        <figure class="card" id="i1">
          <img src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=1600&q=80" alt="Montañas al amanecer" loading="lazy" />
          <figcaption class="caption">Montañas</figcaption>
        </figure>

        <figure class="card" id="i2">
          <img src="https://images.unsplash.com/photo-1491553895911-0055eca6402d?auto=format&fit=crop&w=1600&q=80" alt="Horizonte urbano con luces" loading="lazy" />
          <figcaption class="caption">Ciudad</figcaption>
        </figure>

        <figure class="card" id="i3">
          <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1600&q=80" alt="Olas del mar al atardecer" loading="lazy" />
          <figcaption class="caption">Mar</figcaption>
        </figure>

        <!-- Puntos de navegación (enlazan a cada tarjeta) -->
        <div class="dots" aria-label="Paginación">
          <a href="#i1">1</a>
          <a href="#i2">2</a>
          <a href="#i3">3</a>
        </div>
      </div>
    </section>
    


  <script>
    (function(){
      const gallery = document.getElementById('gallery');
      const dots = Array.from(document.querySelectorAll('.dot'));

      function goTo(index){
        const x = index * window.innerWidth;
        gallery.scrollTo({left:x, behavior:'smooth'});
      }

      function setActive(index){
        dots.forEach((d,i)=>d.setAttribute('aria-current', i===index ? 'true' : 'false'));
      }

      // Actualiza el dot activo al hacer scroll
      let ticking = false;
      gallery.addEventListener('scroll', ()=>{
        if(!ticking){
          window.requestAnimationFrame(()=>{
            const idx = Math.round(gallery.scrollLeft / window.innerWidth);
            setActive(idx);
            ticking = false;
          });
          ticking = true;
        }
      });

      // Click en los círculos
      dots.forEach(btn=>btn.addEventListener('click', ()=> goTo(+btn.dataset.index)));

      // Recalcular al cambiar el tamaño
      window.addEventListener('resize', ()=>{
        const active = dots.findIndex(d=>d.getAttribute('aria-current')==='true');
        goTo(active>=0?active:0);
      });
    })();
  </script>
